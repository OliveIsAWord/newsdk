//
// Host-specific diagnostic printing functions.
//

#INCLUDE "<inc>/Frontend.twh"
#INCLUDE "<inc>/Print.twh"

EXTERN FN printf (
    IN format : ^_char,
    ...
) : _int

EXTERN FN exit (
	IN status : _int,
)

FN TwrPrintString (
	IN str : ^UBYTE,
)

	printf (
		"%s\n", // format
		str, // ...
	)
END

FN TwrInternalError (
	IN str  : ^UBYTE,
	IN err1 : ULONG,
	IN err2 : ULONG,
	IN err3 : ULONG,
)

	printf (
		"Internal compiler error: %s (%d %d %d)\n", // format
		err1, // ...
		err2,
		err3,
	)

	exit ( 1 )
END